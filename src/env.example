# ===========================================
# RepoDoc Environment Variables
# ===========================================
# Copy this file to .env.local and fill in your values

# ===========================================
# CORE DATABASE (REQUIRED)
# ===========================================
# PostgreSQL database URL with pgvector extension
DATABASE_URL="postgresql://username:password@localhost:5432/repodoc?pgbouncer=true&connection_limit=1"

# Direct database URL for migrations (without pgbouncer)
DIRECT_DATABASE_URL="postgresql://username:password@localhost:5432/repodoc"

# ===========================================
# AUTHENTICATION (REQUIRED)
# ===========================================
# Clerk authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_..."
CLERK_SECRET_KEY="sk_test_..."
CLERK_WEBHOOK_SECRET="whsec_..."

# ===========================================
# AI PROVIDERS (AT LEAST ONE REQUIRED)
# ===========================================
# OpenAI API (recommended for best quality)
OPENAI_API_KEY="sk-..."

# Google Gemini API (60% cost savings)
GEMINI_API_KEY="..."
# or
# GOOGLE_GENAI_API_KEY="..."

# OpenRouter API (alternative)
OPENROUTER_API_KEY="..."

# ===========================================
# CACHING (REQUIRED FOR PRODUCTION)
# ===========================================
# Upstash Redis for caching
UPSTASH_REDIS_REST_URL="https://..."
UPSTASH_REDIS_REST_TOKEN="..."

# ===========================================
# GITHUB INTEGRATION (OPTIONAL)
# ===========================================
# GitHub App credentials
GITHUB_APP_ID="..."
GITHUB_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
GITHUB_WEBHOOK_SECRET="..."

# ===========================================
# PERFORMANCE TUNING (OPTIONAL)
# ===========================================
# Embedding model (text-embedding-3-small is 5x cheaper)
EMBEDDING_MODEL="text-embedding-3-small"

# Batch size for embeddings (lower for Vercel hobby plan)
EMBEDDING_BATCH_SIZE="50"

# Query cache TTL in seconds
QUERY_CACHE_TTL="3600"

# Maximum search results
MAX_SEARCH_RESULTS="10"

# ===========================================
# EMAIL SERVICE (OPTIONAL)
# ===========================================
# Resend for email notifications
RESEND_API_KEY="re_..."

# ===========================================
# DEPLOYMENT (PRODUCTION)
# ===========================================
# Next.js environment
NODE_ENV="production"

# Vercel deployment
VERCEL_URL="https://your-domain.vercel.app"

# ===========================================
# SECURITY (PRODUCTION)
# ===========================================
# NextAuth secret for sessions
NEXTAUTH_SECRET="your-secret-key-here"
NEXTAUTH_URL="https://your-domain.com"

# ===========================================
# MONITORING (OPTIONAL)
# ===========================================
# Sentry for error tracking
SENTRY_DSN="https://..."

# Analytics
NEXT_PUBLIC_GA_ID="G-..."

# ===========================================
# DEVELOPMENT ONLY
# ===========================================
# Uncomment for local development
# DATABASE_URL="postgresql://postgres:password@localhost:5432/repodoc"
# DIRECT_DATABASE_URL="postgresql://postgres:password@localhost:5432/repodoc"
